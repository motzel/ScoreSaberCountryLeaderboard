// ==UserScript==
// @name         ScoreSaber country leaderboard
// @namespace    https://motzel.dev
// @version      0.6.9.4
// @description  Add country leaderboard tab
// @author       motzel
// @icon         https://scoresaber.com/imports/images/logo.ico
// @updateURL    https://github.com/motzel/ScoreSaberCountryLeaderboard/raw/master/dist/scoresaber-country-leaderboard.user.js
// @downloadURL  https://github.com/motzel/ScoreSaberCountryLeaderboard/raw/master/dist/scoresaber-country-leaderboard.user.js
// @supportURL   https://github.com/motzel/ScoreSaberCountryLeaderboard/issues
//
// @match        https://scoresaber.com/leaderboard/*
// @match        https://scoresaber.com/u/*
//
// @include      /^https://scoresaber\.com\/global(\/\d+&country=pl|\?country=pl)/
//
// @require      https://cdnjs.cloudflare.com/ajax/libs/localforage/1.7.3/localforage.min.js
//
// @grant        GM_addStyle
// @grant        GM_info
// @grant        GM_xmlhttpRequest
// @run-at       document-end
// ==/UserScript==

!function(e){function t(a){if(n[a])return n[a].exports;var d=n[a]={i:a,l:!1,exports:{}};return e[a].call(d.exports,d,d.exports,t),d.l=!0,d.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,a){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:a})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(t.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var d in e)t.d(a,d,function(t){return e[t]}.bind(null,d));return a},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,n){"use strict";function a(e,t){if(null==e)return{};var n,a,d=function(e,t){if(null==e)return{};var n,a,d={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],0<=t.indexOf(n)||(d[n]=e[n]);return d}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(d[n]=e[n])}return d}function d(e,t,n,a,d,r,s){try{var o=e[r](s),i=o.value}catch(e){return void n(e)}o.done?t(i):Promise.resolve(i).then(a,d)}function r(e){return function(){var t=this,n=arguments;return new Promise(function(a,r){function s(e){d(i,a,r,s,o,"next",e)}function o(e){d(i,a,r,s,o,"throw",e)}var i=e.apply(t,n);s(void 0)})}}function s(){return o.apply(this,arguments)}function o(){return(o=r(function*(){var e=yield je();if(!e)return null;var t=ue.data.rankedSongs;return{newRanked:ge(Object.keys(e),Object.keys(t)).map((t)=>e[t]),changed:Object.values(t).filter((t)=>{var n;return t.stars!==(null==e||null===(n=e[t.leaderboardId])||void 0===n?void 0:n.stars)}).map((t)=>{var n;return Object.assign({},t,{oldStars:t.stars,stars:he(null==e||null===(n=e[t.leaderboardId])||void 0===n?void 0:n.stars)})})}})).apply(this,arguments)}function i(){return(i=r(function*(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,t=yield h(),n=document.querySelector("#sspl_progress_head");if(n&&(n.innerHTML="Aktualizacja wynik\xF3w nowych ranked\xF3w"),6e4<new Date().getTime()-be(ue.data.lastUpdated).getTime())return console.error("Please update song data first"),null;var a=yield s();if(!a)return null;var d=a.newRanked.map((e)=>e.leaderboardId).concat(a.changed.map((e)=>e.leaderboardId)),r=t.users,o=Object.values(r).reduce((e,t)=>{var n=Object.values(t.scores).map((e)=>({leaderboardId:e.leaderboardId,timeset:be(e.timeset)})).sort((e,t)=>t.timeset.getTime()-e.timeset.getTime()).reduce((e,t,n)=>{if(d.includes(t.leaderboardId)){var a=ne(n/8)+1;e[a]=ye(null==e?void 0:e[a],[]).concat([t.leaderboardId])}return e},{});return fe(n)||(e[t.id]=n),e},{}),i=Object.values(o).reduce((e,t)=>e+Object.keys(t).length,0),l=0;for(var p in o){var c=0;for(var u in o[p]){var f=me((yield Oe(p,u,...o[p][u])),"leaderboardId");r[p].scores=Object.assign({},r[p].scores,f),e&&e({id:p,name:r[p].name,page:c+1,percent:ne(100*(l/i))}),c++,l++}}return t.rankedSongs=Object.assign({},t.rankedSongs,me(a.newRanked,"leaderboardId"),me(a.changed,"leaderboardId")),t.rankedSongsLastUpdated=JSON.parse(JSON.stringify(new Date)),m(t),a})).apply(this,arguments)}function l(){return p.apply(this,arguments)}function p(){return(p=r(function*(e){for(var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,a={lastUpdated:t,scores:{}},d=0,r=null;++d;){n&&n({id:e.id,name:e.name,page:d,total:null});var s=yield Oe(e.id,d);if(!s)break;for(var o in 1===d&&s.length&&(r=be(s[0].timeset)),s){if(t&&be(s[o].timeset)<=t)return r&&(a.lastUpdated=r),a;a.scores[s[o].leaderboardId]=s[o]}if(r&&(a.lastUpdated=r),8>s.length)break}return a.lastUpdated=r,a})).apply(this,arguments)}function c(){return ue.data&&Object.keys(ue.data.users).length}function u(){return f.apply(this,arguments)}function f(){return(f=r(function*(){return new Promise((e)=>localforage.getItem("sspl_users",function(t,n){e(n)}))})).apply(this,arguments)}function m(){return g.apply(this,arguments)}function g(){return(g=r(function*(e){return ue.data=e,localforage.setItem("sspl_users",e),e})).apply(this,arguments)}function h(){return y.apply(this,arguments)}function y(){return(y=r(function*(){var e,t,n,a;if(ue.data)return ue.data;var d=null!==(e=yield u())&&void 0!==e?e:{version:1.1,lastUpdated:null,users:{},rankedSongs:null,rankedSongsLastUpdated:null},r={rankHistoryAvailable:!1,rankedSongsAvailable:!1};if((null===(t=Object.values(null==d?void 0:d.users))||void 0===t||null===(n=t[0])||void 0===n||null===(a=n.history)||void 0===a?void 0:a.length)&&(r.rankHistoryAvailable=!0),1===d.version){var s=yield Ne(),o=!1;d.rankedSongs=Me(s.filter((e)=>(221711===e.leaderboardId&&(o=!0),o))),d.version=1.1,d.rankedSongsLastUpdated=JSON.parse(JSON.stringify(new Date)),r.rankedSongsAvailable=!1}else r.rankedSongsAvailable=!0;return ue.data=Object.assign(d,{flags:r}),d})).apply(this,arguments)}function _(e){var t,n=/^_([^_]+)_Solo(.*)$/.exec(e);return n?{diff:n[1].toLowerCase().replace("plus","Plus"),type:null!==(t=n[2])&&void 0!==t?t:"Standard"}:null}function b(e,t){if(!e)return null;var n=_(t);return n?e.reduce((e,t)=>{var a;return t.name===n.type?null===(a=t.difficulties)||void 0===a?void 0:a[n.diff]:e},null):null}function v(){return k.apply(this,arguments)}function k(){return(k=r(function*(e){var t,n,d=yield h(),r=null!==(t=Ie())&&void 0!==t?t:null,s=r?yield Pe(r):null,o=null==s||null===(n=s.metadata)||void 0===n?void 0:n.characteristics,i=null,l=0;return Object.keys(d.users).reduce((t,n)=>{if(!d.users[n].scores[e])return t;var r,s;l||t.length||(i=b(o,d.users[n].scores[e].diff),l=(null===(r=i)||void 0===r?void 0:r.length)&&(null===(s=i)||void 0===s?void 0:s.notes)?ke(i.notes):0);var p=d.users[n],{scores:c}=p,u=a(p,["scores"]),f=d.users[n].scores[e],{score:m,timeset:g,rank:h,mods:y,pp:_,maxScoreEx:v,diff:k}=f;return a(f,["score","timeset","rank","mods","pp","maxScoreEx","diff"]),t.push(Object.assign({},u,{score:m,timeset:g,rank:h,mods:y,pp:_,percent:l?m/l:v?m/v:null})),t},[]).sort((e,t)=>t.score-e.score)})).apply(this,arguments)}function x(e){if(null===e)throw new Error("Assertion failed");return e}function $(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;return x((null==t?document:t).querySelector(e))}function A(){var e=$(".ranking table.global"),t=document.querySelector(".ranking table.sspl");t||(t=e.cloneNode(!0)),t.classList.remove("global"),t.classList.add("sspl"),$("tbody",t).innerHTML="";var n=$("thead",t);$(".rank",n).innerHTML="Miejsce",$(".player",n).innerHTML="Gracz",$(".score",n).innerHTML="Wynik",$(".timeset",n).innerHTML="Czas",$(".mods",n).innerHTML="Mody",$(".percentage",n).innerHTML="Procent";var a=Y("div",{id:"sspl"},"");a.style.display="none",e.parentElement.appendChild(a);var d=Y("div",{id:"ssplrefresh"},"");d.appendChild(Y("button",{title:"Od\u015Bwie\u017C",onclick:(t)=>{d.appendChild(Y("div",{id:"sspl_progress_cont"},Y("header",{id:"sspl_progress_head"},""),Y("progress",{id:"sspl_progress",value:0,max:100},"0"),Y("div",{id:"sspl_progress_info"},""))),t.target.disabled=!0,N().then(()=>function(){return i.apply(this,arguments)}(O)).then((e)=>function(e){var t;if(ue.data.flags.rankedSongsAvailable){null===(t=document.getElementById("new-rankeds"))||void 0===t||t.remove();var n=e.newRanked.concat(e.changed);if(n.length){var a=$("#sspl"),d=$("#sspl table.ranking"),s=Y("tbody",{},""),r=Y("table",{id:"new-rankeds"},Y("thead",{},Y("tr",{},Y("th",{},"Nuta"),Y("th",{},"Mapper"),Y("th",{},"Trudno\u015B\u0107"),Y("th",{},"PP"),Y("th",{},"*"),Y("th",{},"Stare *"))),s),o=V();n.sort((e,t)=>t.stars-e.stars).map((e)=>{var t,n,a,d,i,l,p,c;return s.appendChild((c=Object.assign({},e,{pp:null===(t=ue.data)||void 0===t||null===(n=t.users)||void 0===n||null===(a=n[o].scores)||void 0===a||null===(d=a[e.leaderboardId])||void 0===d?void 0:d.pp}),Y("tr",{},Y("td",{},Y("a",{href:"https://scoresaber.com/leaderboard/"+encodeURIComponent(c.leaderboardId)},c.songAuthor+" - "+c.name)),Y("td",{},c.levelAuthor),Y("td",{},(i=c.diff,l=Y("span",{},function(e){return(t=e.diff,t.charAt(0).toUpperCase()+t.slice(1)).replace("ExpertPlus","Expert+")+("Standard"===e.type?"":"/"+e.type);var t}(i)),(p=function(e){var t={easy:"MediumSeaGreen",normal:"#59b0f4",hard:"tomato",expert:"#bf2a42",expertPlus:"#8f48db"};return t[e.diff]?t[e.diff]:null}(i))&&(l.style.color=p),l)),Y("td",{},Y("span",{class:"scoreTop ppValue"},w(c.pp,"pp"))),I(c.stars,"*"),I(c.oldStars,"*"))))}),a.insertBefore(Y("h3",{},"Nowe/zmienione rankedy"),d),a.insertBefore(r,d)}}}(e)).then(()=>{$("#sspl_progress_cont").remove(),t.target.disabled=!1,C()})}},"\u21BB")),d.appendChild(Y("strong",{}," Data pobrania:")),d.appendChild(Y("span",{},"-")),a.appendChild(d),a.appendChild(t),a.appendChild(Y("div",{class:"ssplcont text-center"},""))}function S(e){return ce.reduce((t,n)=>t||n.reduce((t,n)=>{var a=null==e?void 0:e[null==n?void 0:n.field],d=!0;switch(null==n?void 0:n.cond){case"===":d=a===(null==n?void 0:n.value);break;case"<":d=a<(null==n?void 0:n.value);break;case">":d=a>(null==n?void 0:n.value);break;default:console.error("Unknown condition: ",null==n?void 0:n.cond),d=!1;}return t&&d},!0),!1)}function w(e,t){return(e?K(e):"-")+(e&&t?t:"")}function I(e,t){return Y("td",{},w(e,t))}function C(){return T.apply(this,arguments)}function T(){return(T=r(function*(){var e=we(),t=yield v(e),n=$(".ranking.global .ssplcont"),a=$("#sspl table.ranking"),d=$("tbody",a);if(n.innerHTML="",d.innerHTML="",null==t?void 0:t.length){var s=V(),o=1;t.map((t)=>{var n=G(t,e,o++,S(t)?"hidden":"");t.id===s&&(n.style="background-color: var(--color-highlight);"),d.appendChild(n)}),a.style.display=""}else a.style.display="none",n.appendChild(Y("h3",{},"Strasznie tu pusto..."));if(c()){var i=$("#ssplrefresh");i.style.display="",$("span",i).innerText=X(ue.data.lastUpdated);var l=V();if(l){var p=document.querySelectorAll(".scoreTop.ppValue");[].forEach.call(p,function(){var t=r(function*(t){var n=parseFloat(t.innerText.replace(/\s/,"").replace(",","."));n&&n>0+te&&t.parentNode.appendChild((yield R(l,e,n)))});return function(){return t.apply(this,arguments)}}())}}else{var u=Y("div",{},"");u.appendChild(Y("p",{},"Wygl\u0105da na to, \u017Ce nie ma jeszcze \u017Cadnych danych.")),u.appendChild(Y("p",{},"Usi\u0105d\u017A sobie wygodnie, otw\xF3rz harnasia, kliknij Pobierz i poczekaj, bo troch\u0119 to potrwa...")),u.appendChild(Y("button",{onclick:(t)=>{t.target.disabled=!0,N().then(()=>{u.remove(),C()})}},"Pobierz")),u.appendChild(Y("div",{},Y("progress",{id:"sspl_progress",value:0,max:100},"0"),Y("div",{id:"sspl_progress_info"},""))),n.appendChild(u),$("#ssplrefresh").style.display="none"}})).apply(this,arguments)}function L(){return(L=r(function*(){we()&&($(".tabs > ul").appendChild(H("pl_tab",!1,null===document.querySelector(".filter_tab"))),A(),yield C(),document.addEventListener("click",function(t){var e=t.target.closest(".filter_tab");if(e){var n=x(t.target.closest(".box")),a=$("#sspl",n),d=$("table.ranking",n);e.classList.contains("sspl")?(d.style.display="none",a.style.display="",$(".pagination").style.display="none"):(d.style.display="",a.style.display="none",$(".pagination").style.display="")}},{passive:!0}))})).apply(this,arguments)}function R(){return E.apply(this,arguments)}function E(){return(E=r(function*(e,t,n){var a=yield Ae(e,t,n);return Y("button",{class:"what-if",title:"Je\u015Bli tak zagrasz: \n"+K(a.currentTotalPp)+K(a.diff,2,!0)+"="+K(a.newTotalPp)+"pp"},"?")})).apply(this,arguments)}function P(){return U.apply(this,arguments)}function U(){return(U=r(function*(){var e=Ce();if(e){var t=yield h(),n=V(),a=document.querySelectorAll(".score .scoreBottom");[].forEach.call(a,function(){var a=r(function*(a){var d=a.closest("tr").querySelector(".song a");if(d){var r=ve(/\/leaderboard\/(\d+$)/,d.href);if(r){var s,o,i,l=null===(s=t.users)||void 0===s||null===(o=s[e])||void 0===o||null===(i=o.scores)||void 0===i?void 0:i[r];if(l)try{var p,c=yield Pe(l.id),u=b(null==c||null===(p=c.metadata)||void 0===p?void 0:p.characteristics,l.diff),f=(null==u?void 0:u.length)&&(null==u?void 0:u.notes)?ke(u.notes):0,m=f?l.score/f:maxScoreEx?l.score/maxScoreEx:null;S(Object.assign({},l,{id:l.playerId,percent:m}))&&d.closest("tr").classList.add("hidden"),a.innerHTML="score: "+K(l.score,0)+(m?"<br />accuracy: "+K(100*m,2)+"%":"")+(l.mods.length?"<br />("+l.mods+")":"")}catch(t){}if(n){var g,h=parseFloat(null===(g=a.parentNode.querySelector(".scoreTop.ppValue"))||void 0===g?void 0:g.innerText);h&&h>0+te&&a.parentNode.appendChild((yield R(n,r,h)))}}}});return function(){return a.apply(this,arguments)}}());var d,s,o,i,l=document.querySelector(".content .column ul");l&&(null===(d=t.users)||void 0===d||null===(s=d[e])||void 0===s?void 0:s.stats)&&new ae.default({target:l,props:{profile:null!==(o=null===(i=t.users)||void 0===i?void 0:i[e])&&void 0!==o?o:null}})}})).apply(this,arguments)}function q(){return z.apply(this,arguments)}function z(){return(z=r(function*(){var e,t=null===(e=yield h())||void 0===e?void 0:e.users;if(t&&Se("rankHistoryAvailable")){var n=$("table.ranking.global"),a=$(".pagination",n.parentNode.parentNode),d=Y("select",{class:"type"},"");[{value:"sspl",text:"Cached"},{value:"original",text:"Original"}].map((e)=>d.appendChild(Y("option",{value:e.value,selected:"sspl"===e.value},e.text))),a.insertBefore(d,$("br",a)),d.addEventListener("change",(t)=>Array.prototype.slice.apply(t.target.closest(".box").querySelectorAll("table.ranking.global")).map((e)=>e.style.display=e.classList.contains(t.target.options[t.target.selectedIndex].value)?"":"none")),n.style.display="none",n.classList.add("original"),new de.default({target:n.parentNode,props:{users:t}})}})).apply(this,arguments)}function O(e){var t=document.querySelector("#sspl_progress"),n=document.querySelector("#sspl_progress_info");t&&(t.value=e.percent),n&&(n.innerHTML="<strong>"+e.name+"</strong> / "+e.page)}function N(){return M.apply(this,arguments)}function M(){return(M=r(function*(){var e=document.querySelector("#sspl_progress_head");e&&(e.innerHTML="Pobieranie nowych wynik\xF3w");var t=yield ze(),n=0,a=yield t.reduce(function(){var e=r(function*(e,a){var d=yield e,r=yield l(a,be(d.users[a.id]?d.users[a.id].lastUpdated:null),(e)=>O(Object.assign({},e,{percent:ne(100*(n/t.length))})));return d.users[a.id]=Object.assign({},a,{lastUpdated:r.lastUpdated,scores:Object.assign({},d.users[a.id]?d.users[a.id].scores:{},r.scores)}),n++,d});return function(){return e.apply(this,arguments)}}(),(yield h()));return a.lastUpdated=new Date().toISOString(),m(a)})).apply(this,arguments)}function j(e,t){return e?t:""}function D(e){for(var t=arguments.length,n=Array(1<t?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];for(var d of n)"string"==typeof d?1<n.length?e.appendChild(Y("div",{},d)):e.innerText=d:e.appendChild(d);return e}function Y(e,t){if(!e)throw new SyntaxError("'tag' not defined");var n=document.createElement(e);if(t)for(var a in t)if("style"===a)for(var d in t.style)n.style[d]=t.style[d];else if("class"===a){if("string"==typeof t.class){var r=t.class.split(/ /g).filter((e)=>0<e.trim().length);n.classList.add(...r)}else n.classList.add(...t.class);}else if("for"===a)n.htmlFor=t[a];else if("selected"===a)n.selected=t[a]?"selected":void 0;else if("disabled"===a)t[a]&&n.setAttribute("disabled",void 0);else if("data"===a){var s=t[a];for(var o in s)n.setAttribute("data-".concat(o),s[o])}else n[a]=t[a];for(var i=arguments.length,l=Array(2<i?i-2:0),p=2;p<i;p++)l[p-2]=arguments[p];return D(n,...l),n}function H(e,t,n){var a="filter_tab sspl ".concat(j(t,"is-active")," ").concat(j(n,"offset_tab"));return Y("li",{id:e,class:a},Y("a",{class:"has-text-info",onclick:()=>{document.querySelectorAll(".tabs > ul .filter_tab").forEach((e)=>e.classList.remove("is-active")),x(document.getElementById(e)).classList.add("is-active")}},Y("img",{class:"bloodtrail",src:"data:image/png;base64,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"})))}function G(e,t,n,a){return Y("tr",{class:a},Y("td",{class:"picture"}),Y("td",{class:"rank"},Y("span",{},"#"+n),Y("small",{},Y("a",{href:"/leaderboard/"+encodeURIComponent(t)+"?page="+encodeURIComponent(ee(e.rank/12))},"#"+e.rank))),Y("td",{class:"player"},function(e){var t=e.country.toLowerCase();return Y("a",{href:_e(le,{userId:e.id})},Y("img",{src:"/imports/images/flags/".concat(t,".png")}),Y("span",{class:"player-name"}," "+e.name))}(e)),Y("td",{class:"score"},e.score?K(e.score,0):"-"),Y("td",{class:"timeset",title:be(e.timeset).toLocaleString()},X(e.timeset)),Y("td",{class:"mods"},e.mods?e.mods.toString():"-"),Y("td",{class:"percentage"},e.percent?K(100*e.percent,2)+"%":"-"),Y("td",{class:"pp"},Y("span",{class:"scoreTop ppValue"},K(e.pp,2)),Y("span",{class:"scoreTop ppLabel"},"pp")))}function K(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:2,n=2<arguments.length&&void 0!==arguments[2]&&arguments[2];return(n&&0<e?"+":"")+e.toLocaleString(oe.default.COUNTRY,{minimumFractionDigits:t,maximumFractionDigits:t})}function X(e){var t=new Intl.RelativeTimeFormat(oe.default.COUNTRY,{localeMatcher:"best fit",numeric:"auto",style:"long"}),n=(Date.now()-be(e))/1e3;return 60>n?t.format(-ee(n),"second"):3600>n?t.format(-ee(n/60),"minute"):86400>n?t.format(-ee(n/3600),"hour"):2592e3>n?t.format(-ee(n/86400),"day"):31536e3>n?t.format(-ee(n/2592e3),"month"):t.format(-ne(n/31536e3),"year")}function V(){var e=localStorage.getItem("home_user");return e?JSON.parse(e).id:null}function B(){var e=GM_addStyle||(()=>{});e("\n            .sspl thead .diff select, .pagination select.type, .sspl select {font-size: 1rem; font-weight: 700; border: none; color: var(--textColor, black); background-color: var(--background, white); outline: none;}\n            .pp-boundary {color: var(--textColor, black);}\n        "),e(n(16).toString())}function W(){De||(De=!0,null!==we()&&function(){L.apply(this,arguments)}())}function F(e){return null===document.querySelector(e)?new Promise((e)=>{requestAnimationFrame(e)}).then(()=>F(e)):Promise.resolve(!0)}function Z(){return J.apply(this,arguments)}function J(){return(J=r(function*(e){return new Promise(function(t){F("#all_scores_tab").then((e)=>t(e)),setTimeout(()=>t(null),e)})})).apply(this,arguments)}function Q(){return(Q=r(function*(){se.a.info("init"),De||(yield h(),B(),Te()&&P(),Le()&&q(),yield Z(oe.default.SSE_CHECK_DELAY),W())})).apply(this,arguments)}var ee=Math.ceil,te=Number.EPSILON,ne=Math.floor;n.r(t);var ae=n(1),de=n(8),re=n(13),se=n.n(re),oe=n(5),ie="https://scoresaber.com/global/${page}?country="+oe.default.COUNTRY,le="https://scoresaber.com/u/${userId}",pe=["76561198967371424","76561198093469724"],ce=[[{field:"id",value:"76561198165064325",cond:"==="},{field:"percent",value:.85,cond:"<"}]],ue={data:null},fe=(e)=>0===Object.keys(e).length&&e.constructor===Object,me=(e,t)=>e.reduce((e,n)=>(e[n[t]]=n,e),{}),ge=(e,t)=>e.filter((e)=>!t.includes(e)),he=(e)=>void 0===e?null:e,ye=(e,t)=>e||t,_e=(e,t)=>Object.keys(t).reduce((e,n)=>e.replace(new RegExp("\\${"+n+"}","gi"),t[n]),e),be=(e)=>e?new Date(Date.parse(e)):null,ve=(e,t)=>{var n=e.exec(t);return n?n[1]:null},ke=function(e){var t=Math.min,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:115;return ne((14<=e?8*n*(e-13):0)+(6<=e?4*n*(t(e,13)-5):0)+(2<=e?2*n*(t(e,5)-1):0)+t(e,1)*n)},xe=(e)=>Object.values(e).filter((e)=>0<e.pp).map((e)=>e.pp).sort((e,t)=>t-e).reduce((e,t,n)=>e+Math.pow(.965,n)*t,0),$e=function(){var e=r(function*(e){var t,n,a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return xe(Object.assign({},null===(t=(yield h()).users)||void 0===t||null===(n=t[e])||void 0===n?void 0:n.scores,a))});return function(){return e.apply(this,arguments)}}(),Ae=function(){var e=r(function*(e,t,n){var a=yield $e(e),d=yield $e(e,{[t]:{pp:n}});return{currentTotalPp:a,newTotalPp:d,diff:d-a}});return function(){return e.apply(this,arguments)}}(),Se=(e)=>{var t,n;return null===(t=ue.data)||void 0===t||null===(n=t.flags)||void 0===n?void 0:n[e]},we=()=>ve(/\/leaderboard\/(\d+)($|\?page=.*)/,window.location.href.toLowerCase()),Ie=()=>{var e;return null===(e=document.querySelector(".title~b"))||void 0===e?void 0:e.innerText},Ce=()=>ve(/\u\/(\d+)((\?|&).*)?$/,window.location.href.toLowerCase()),Te=()=>null!==Ce(),Le=()=>0<=["https://scoresaber.com/global?country="+oe.default.COUNTRY,"https://scoresaber.com/global/1&country="+oe.default.COUNTRY].indexOf(window.location.href),Re=function(){var e=r(function*(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;return new DOMParser().parseFromString((yield(yield fetch(_e(e,{page:t}))).text()),"text/html")});return function(){return e.apply(this,arguments)}}(),Ee=function(){var e=r(function*(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;return fetch(_e(e,{page:t})).then((e)=>e.json()).catch(()=>null)});return function(){return e.apply(this,arguments)}}(),Pe=function(){var e=r(function*(e){return yield Ee(_e("https://beatsaver.com/api/maps/by-hash/${songHash}",{songHash:e}))});return function(){return e.apply(this,arguments)}}(),Ue=function(){var e=r(function*(e){return yield Ee(_e("https://new.scoresaber.com/api/player/${userId}/full",{userId:e}))});return function(){return e.apply(this,arguments)}}(),qe=function(){var e=r(function*(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1;return(yield Promise.all(Array.prototype.map.call((yield Re(ie,e)).querySelectorAll(".ranking.global .player a"),function(){var e=r(function*(e){return ve(/\/(\d+)$/,e.href)});return function(){return e.apply(this,arguments)}}()))).concat(pe)});return function(){return e.apply(this,arguments)}}(),ze=function(){var e=r(function*(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1;return Promise.all(Array.prototype.map.call((yield qe(e)),function(){var e=r(function*(e){var t=yield Ue(e),n=t.playerInfo,{name:d,playerid:r,role:s,badges:o,banned:i,inactive:l}=n,p=a(n,["name","playerid","role","badges","banned","inactive"]);return p.history=p.history?p.history.split(",").map((e)=>{var t=parseInt(e,10);return isNaN(t)?null:t}).reverse():null,Object.assign({id:r,name:d,url:_e(le,{userId:r}),lastUpdated:null,scores:{}},p,{stats:t.scoreStats})});return function(){return e.apply(this,arguments)}}()))});return function(){return e.apply(this,arguments)}}(),Oe=function(){var e=r(function*(e){for(var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length,a=Array(2<n?n-2:0),d=2;d<n;d++)a[d-2]=arguments[d];return Ee(_e("https://new.scoresaber.com/api/player/${userId}/scores/recent/${page}",{userId:e}),t).then((e)=>e&&e.scores?e.scores.filter((e)=>!a.length||a.includes(e.leaderboardId)):null)});return function(){return e.apply(this,arguments)}}(),Ne=function(){var e=r(function*(){return Ee("https://scoresaber.com/api.php?function=get-leaderboards&cat=1&page=1&limit=5000&ranked=1").then((e)=>(null==e?void 0:e.songs)?null==e?void 0:e.songs.map((e)=>({leaderboardId:e.uid,id:e.id,name:e.name+" "+e.songSubName,songAuthor:e.songAuthorName,levelAuthor:e.levelAuthorName,diff:_(e.diff),stars:e.stars,oldStars:null})):[])});return function(){return e.apply(this,arguments)}}(),Me=(e)=>e.length?e.reduce((e,t)=>(e[t.leaderboardId]=t,e),{}):null,je=function(){var e=r(function*(){return Me((yield Ne()))});return function(){return e.apply(this,arguments)}}(),De=!1;!function(){Q.apply(this,arguments)}()},function(e,t,n){"use strict";function a(e){let t,n,a;const d=new i.default({props:{label:"Ranked play count",value:e[0].stats.rankedPlayCount,precision:0}}),r=new i.default({props:{label:"Total ranked score",value:e[0].stats.totalRankedScore,precision:0}}),s=new i.default({props:{label:"Average ranked accuracy",value:e[0].stats.averageRankedAccuracy,suffix:"%"}});return{c(){Object(o.create_component)(d.$$.fragment),t=Object(o.space)(),Object(o.create_component)(r.$$.fragment),n=Object(o.space)(),Object(o.create_component)(s.$$.fragment)},m(e,i){Object(o.mount_component)(d,e,i),Object(o.insert)(e,t,i),Object(o.mount_component)(r,e,i),Object(o.insert)(e,n,i),Object(o.mount_component)(s,e,i),a=!0},p(e,t){const n={};1&t&&(n.value=e[0].stats.rankedPlayCount),d.$set(n);const a={};1&t&&(a.value=e[0].stats.totalRankedScore),r.$set(a);const o={};1&t&&(o.value=e[0].stats.averageRankedAccuracy),s.$set(o)},i(e){a||(Object(o.transition_in)(d.$$.fragment,e),Object(o.transition_in)(r.$$.fragment,e),Object(o.transition_in)(s.$$.fragment,e),a=!0)},o(e){Object(o.transition_out)(d.$$.fragment,e),Object(o.transition_out)(r.$$.fragment,e),Object(o.transition_out)(s.$$.fragment,e),a=!1},d(e){Object(o.destroy_component)(d,e),e&&Object(o.detach)(t),Object(o.destroy_component)(r,e),e&&Object(o.detach)(n),Object(o.destroy_component)(s,e)}}}function d(e){let t,n;const a=new l.default({props:{scores:e[1]}});return{c(){t=Object(o.element)("li"),Object(o.create_component)(a.$$.fragment)},m(e,d){Object(o.insert)(e,t,d),Object(o.mount_component)(a,t,null),n=!0},p(e,t){const n={};2&t&&(n.scores=e[1]),a.$set(n)},i(e){n||(Object(o.transition_in)(a.$$.fragment,e),n=!0)},o(e){Object(o.transition_out)(a.$$.fragment,e),n=!1},d(e){e&&Object(o.detach)(t),Object(o.destroy_component)(a)}}}function r(e){let n,t,r,s=e[0]&&e[0].stats&&a(e),i=e[1]&&d(e);return{c(){s&&s.c(),n=Object(o.space)(),i&&i.c(),t=Object(o.empty)()},m(e,a){s&&s.m(e,a),Object(o.insert)(e,n,a),i&&i.m(e,a),Object(o.insert)(e,t,a),r=!0},p(e,[r]){e[0]&&e[0].stats?s?(s.p(e,r),1&r&&Object(o.transition_in)(s,1)):(s=a(e),s.c(),Object(o.transition_in)(s,1),s.m(n.parentNode,n)):s&&(Object(o.group_outros)(),Object(o.transition_out)(s,1,1,()=>{s=null}),Object(o.check_outros)()),e[1]?i?(i.p(e,r),2&r&&Object(o.transition_in)(i,1)):(i=d(e),i.c(),Object(o.transition_in)(i,1),i.m(t.parentNode,t)):i&&(Object(o.group_outros)(),Object(o.transition_out)(i,1,1,()=>{i=null}),Object(o.check_outros)())},i(){r||(Object(o.transition_in)(s),Object(o.transition_in)(i),r=!0)},o(){Object(o.transition_out)(s),Object(o.transition_out)(i),r=!1},d(e){s&&s.d(e),e&&Object(o.detach)(n),i&&i.d(e),e&&Object(o.detach)(t)}}}function s(e,t,n){let a,{profile:d}=t;return e.$set=(e)=>{"profile"in e&&n(0,d=e.profile)},e.$$.update=()=>{1&e.$$.dirty&&n(1,a=d.scores?Object.values(d.scores).filter((e)=>0<e.pp).map((e)=>e.pp).sort((e,t)=>t-e):null)},[d,a]}n.r(t);var o=n(2),i=n(3),l=n(6);class p extends o.SvelteComponent{constructor(e){super(),Object(o.init)(this,e,s,r,o.safe_not_equal,{profile:0})}}t.default=p},function(e,t,n){"use strict";function a(){}function d(e,t){for(const n in t)e[n]=t[n];return e}function r(e){return e&&"object"==typeof e&&"function"==typeof e.then}function s(e,t,n,a,d){e.__svelte_meta={loc:{file:t,line:n,column:a,char:d}}}function o(e){return e()}function i(){return Object.create(null)}function l(e){e.forEach(o)}function p(e){return"function"==typeof e}function c(e,t){return e==e?e!==t||e&&"object"==typeof e||"function"==typeof e:t==t}function u(e,t){return e==e?e!==t:t==t}function f(e,t){if(null!=e&&"function"!=typeof e.subscribe)throw new Error(`'${t}' is not a store with a 'subscribe' method`)}function m(e,...t){if(null==e)return a;const n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}function g(e){let t;return m(e,(e)=>t=e)(),t}function h(e,t,n){e.$$.on_destroy.push(m(t,n))}function y(e,t,n,a){if(e){const d=_(e,t,n,a);return e[0](d)}}function _(e,t,n,a){return e[1]&&a?d(n.ctx.slice(),e[1](a(t))):n.ctx}function b(e,t,n,a){if(e[2]&&a){const d=e[2](a(n));if(void 0===t.dirty)return d;if("object"==typeof d){const e=[],n=Math.max(t.dirty.length,d.length);for(let a=0;a<n;a+=1)e[a]=t.dirty[a]|d[a];return e}return t.dirty|d}return t.dirty}function v(e){const t={};for(const n in e)"$"!==n[0]&&(t[n]=e[n]);return t}function k(e,t){const n={};for(const a in t=new Set(t),e)t.has(a)||"$"===a[0]||(n[a]=e[a]);return n}function x(e){let t=!1;return function(...n){t||(t=!0,e.call(this,...n))}}function $(e){return null==e?"":e}function A(e,t,n=t){return e.set(n),t}function S(e){return e&&p(e.destroy)?e.destroy:a}function w(e){qt=e}function I(e){zt=e}function C(e){Ot.forEach((t)=>{t.c(e)||(Ot.delete(t),t.f())}),0!==Ot.size&&zt(C)}function T(){Ot.clear()}function L(e){let t;return 0===Ot.size&&zt(C),{promise:new Promise((n)=>{Ot.add(t={c:e,f:n})}),abort(){Ot.delete(t)}}}function R(e,t){e.appendChild(t)}function E(e,t,n){e.insertBefore(t,n||null)}function P(e){e.parentNode.removeChild(e)}function U(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function q(e){return document.createElement(e)}function z(e,t){return document.createElement(e,{is:t})}function O(e,t){const n={};for(const a in e)Pt(e,a)&&-1===t.indexOf(a)&&(n[a]=e[a]);return n}function N(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function M(e){return document.createTextNode(e)}function j(){return M(" ")}function D(){return M("")}function Y(e,t,n,a){return e.addEventListener(t,n,a),()=>e.removeEventListener(t,n,a)}function H(e){return function(t){return t.preventDefault(),e.call(this,t)}}function G(e){return function(t){return t.stopPropagation(),e.call(this,t)}}function K(e){return function(t){t.target===this&&e.call(this,t)}}function X(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function V(e,t){const n=Object.getOwnPropertyDescriptors(e.__proto__);for(const a in t)null==t[a]?e.removeAttribute(a):"style"===a?e.style.cssText=t[a]:"__value"===a?e.value=e[a]=t[a]:n[a]&&n[a].set?e[a]=t[a]:X(e,a,t[a])}function B(e,t){for(const n in t)X(e,n,t[n])}function W(e,t,n){t in e?e[t]=n:X(e,t,n)}function F(e,t,n){e.setAttributeNS("http://www.w3.org/1999/xlink",t,n)}function Z(e){const t=[];for(let n=0;n<e.length;n+=1)e[n].checked&&t.push(e[n].__value);return t}function J(e){return""===e?void 0:+e}function Q(e){const t=[];for(let n=0;n<e.length;n+=1)t.push({start:e.start(n),end:e.end(n)});return t}function ee(e){return Array.from(e.childNodes)}function te(e,t,n,a){for(let d=0;d<e.length;d+=1){const a=e[d];if(a.nodeName===t){for(let e=0;e<a.attributes.length;){const t=a.attributes[e];n[t.name]?e++:a.removeAttribute(t.name)}return e.splice(d,1)[0]}}return a?N(t):q(t)}function ne(e,t){for(let n=0;n<e.length;n+=1){const a=e[n];if(3===a.nodeType)return a.data=""+t,e.splice(n,1)[0]}return M(t)}function ae(e){return ne(e," ")}function de(e,t){t=""+t,e.data!==t&&(e.data=t)}function re(e,t){(null!=t||e.value)&&(e.value=t)}function se(e,t){try{e.type=t}catch(t){}}function oe(e,t,n,a){e.style.setProperty(t,n,a?"important":"")}function ie(e,t){for(let n=0;n<e.options.length;n+=1){const a=e.options[n];if(a.__value===t)return void(a.selected=!0)}}function le(e,t){for(let n=0;n<e.options.length;n+=1){const a=e.options[n];a.selected=~t.indexOf(a.__value)}}function pe(e){const t=e.querySelector(":checked")||e.options[0];return t&&t.__value}function ce(e){return[].map.call(e.querySelectorAll(":checked"),(e)=>e.__value)}function ue(){if(void 0===Nt){Nt=!1;try{"undefined"!=typeof window&&window.parent&&window.parent.document}catch(e){Nt=!0}}return Nt}function fe(e,t){const n=getComputedStyle(e),a=(parseInt(n.zIndex)||0)-1;"static"===n.position&&(e.style.position="relative");const d=q("iframe");let r;return d.setAttribute("style",`display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: ${a};`),d.setAttribute("aria-hidden","true"),d.tabIndex=-1,ue()?(d.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}</script>",r=Y(window,"message",(e)=>{e.source===d.contentWindow&&t()})):(d.src="about:blank",d.onload=()=>{r=Y(d.contentWindow,"resize",t)}),R(e,d),()=>{P(d),r&&r()}}function me(e,t,n){e.classList[n?"add":"remove"](t)}function ge(t,n){const a=document.createEvent("CustomEvent");return a.initCustomEvent(t,!1,!1,n),a}function he(e,t=document.body){return Array.from(t.querySelectorAll(e))}function ye(e,n,a,t,d,r,s,o=0){let i="{\n";for(let l=0;1>=l;l+=16.666/t){const e=n+(a-n)*r(l);i+=100*l+`%{${s(e,1-e)}}\n`}const l=i+`100% {${s(a,1-a)}}\n}`,p=`__svelte_${function(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}(l)}_${o}`,c=e.ownerDocument;jt.add(c);const u=c.__svelte_stylesheet||(c.__svelte_stylesheet=c.head.appendChild(q("style")).sheet),f=c.__svelte_rules||(c.__svelte_rules={});f[p]||(f[p]=!0,u.insertRule(`@keyframes ${p} ${l}`,u.cssRules.length));const m=e.style.animation||"";return e.style.animation=`${m?m+", ":""}${p} ${t}ms linear ${d}ms 1 both`,Yt+=1,p}function _e(e,t){const n=(e.style.animation||"").split(", "),a=n.filter(t?(e)=>0>e.indexOf(t):(e)=>-1===e.indexOf("__svelte")),d=n.length-a.length;d&&(e.style.animation=a.join(", "),Yt-=d,Yt||zt(()=>{Yt||(jt.forEach((e)=>{const t=e.__svelte_stylesheet;for(let n=t.cssRules.length;n--;)t.deleteRule(n);e.__svelte_rules={}}),jt.clear())}))}function be(e,t,n,d){function r(){o&&_e(e,m),g=!1}if(!t)return a;const s=e.getBoundingClientRect();if(t.left===s.left&&t.right===s.right&&t.top===s.top&&t.bottom===s.bottom)return a;const{delay:i=0,duration:l=300,easing:p=Et,start:c=qt()+i,end:u=c+l,tick:f=a,css:o}=n(e,{from:t,to:s},d);let m,g=!0,h=!1;return L((e)=>{if(!h&&e>=c&&(h=!0),h&&e>=u&&(f(1,0),r()),!g)return!1;if(h){const n=0+1*p((e-c)/l);f(n,1-n)}return!0}),o&&(m=ye(e,0,1,l,i,p,o)),i||(h=!0),f(0,1),r}function ve(e){const t=getComputedStyle(e);if("absolute"!==t.position&&"fixed"!==t.position){const{width:n,height:d}=t,r=e.getBoundingClientRect();e.style.position="absolute",e.style.width=n,e.style.height=d,ke(e,r)}}function ke(e,t){const n=e.getBoundingClientRect();if(t.left!==n.left||t.top!==n.top){const a=getComputedStyle(e),d="none"===a.transform?"":a.transform;e.style.transform=`${d} translate(${t.left-n.left}px, ${t.top-n.top}px)`}}function xe(e){Dt=e}function $e(){if(!Dt)throw new Error("Function called outside component initialization");return Dt}function Ae(e){$e().$$.before_update.push(e)}function Se(e){$e().$$.on_mount.push(e)}function we(e){$e().$$.after_update.push(e)}function Ie(e){$e().$$.on_destroy.push(e)}function Ce(){const e=$e();return(t,n)=>{const a=e.$$.callbacks[t];if(a){const d=ge(t,n);a.slice().forEach((t)=>{t.call(e,d)})}}}function Te(e,t){$e().$$.context.set(e,t)}function Le(e){return $e().$$.context.get(e)}function Re(e,t){const n=e.$$.callbacks[t.type];n&&n.slice().forEach((e)=>e(t))}function Ee(){Wt||(Wt=!0,Bt.then(ze))}function Pe(){return Ee(),Bt}function Ue(e){Xt.push(e)}function qe(e){Vt.push(e)}function ze(){if(!Ft){Ft=!0;do{for(let e=0;e<Ht.length;e+=1){const t=Ht[e];xe(t),Oe(t.$$)}for(Ht.length=0;Kt.length;)Kt.pop()();for(let e=0;e<Xt.length;e+=1){const t=Xt[e];Zt.has(t)||(Zt.add(t),t())}Xt.length=0}while(Ht.length);for(;Vt.length;)Vt.pop()();Wt=!1,Ft=!1,Zt.clear()}}function Oe(e){if(null!==e.fragment){e.update(),l(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(Ue)}}function Ne(){return Jt||(Jt=Promise.resolve(),Jt.then(()=>{Jt=null})),Jt}function Me(e,t,n){e.dispatchEvent(ge(`${t?"intro":"outro"}${n}`))}function je(){en={r:0,c:[],p:en}}function De(){en.r||l(en.c),en=en.p}function Ye(e,t){e&&e.i&&(Qt.delete(e),e.i(t))}function He(e,t,n,a){if(e&&e.o){if(Qt.has(e))return;Qt.add(e),en.c.push(()=>{Qt.delete(e),a&&(n&&e.d(1),a())}),e.o(t)}}function Ge(e,t,n){function d(){s&&_e(e,s)}function r(){const{delay:n=0,duration:r=300,easing:p=Et,tick:u=a,css:t}=i||tn;t&&(s=ye(e,0,1,r,n,p,t,c++)),u(0,1);const f=qt()+n;o&&o.abort(),l=!0,Ue(()=>Me(e,!0,"start")),o=L((n)=>{if(l){if(n>=f+r)return u(1,0),Me(e,!0,"end"),d(),l=!1;if(n>=f){const e=p((n-f)/r);u(e,1-e)}}return l})}let s,o,i=t(e,n),l=!1,c=0,u=!1;return{start(){u||(_e(e),p(i)?(i=i(),Ne().then(r)):r())},invalidate(){u=!1},end(){l&&(d(),l=!1)}}}function Ke(e,t,n){function d(){const{delay:n=0,duration:d=300,easing:p=Et,tick:c=a,css:t}=s||tn;t&&(r=ye(e,1,0,d,n,p,t));const u=qt()+n;Ue(()=>Me(e,!1,"start")),L((n)=>{if(o){if(n>=u+d)return c(0,1),Me(e,!1,"end"),--i.r||l(i.c),!1;if(n>=u){const e=p((n-u)/d);c(1-e,e)}}return o})}let r,s=t(e,n),o=!0;const i=en;return i.r+=1,p(s)?Ne().then(()=>{s=s(),d()}):d(),{end(t){t&&s.tick&&s.tick(1,0),o&&(r&&_e(e,r),o=!1)}}}function Xe(e,n,d,r){function s(){g&&_e(e,g)}function o(e,n){const a=e.b-u;return n*=Rt(a),{a:u,b:e.b,d:a,duration:n,start:e.start,end:e.start+n,group:e.group}}function i(t){const{delay:d=0,duration:r=300,easing:i=Et,tick:h=a,css:n}=c||tn,p={start:qt()+d,b:t};t||(p.group=en,en.r+=1),f?m=p:(n&&(s(),g=ye(e,u,t,r,d,i,n)),t&&h(0,1),f=o(p,r),Ue(()=>Me(e,t,"start")),L((t)=>{if(m&&t>m.start&&(f=o(m,r),m=null,Me(e,f.b,"start"),n&&(s(),g=ye(e,u,f.b,f.duration,0,i,c.css))),f)if(t>=f.end)h(u=f.b,1-u),Me(e,f.b,"end"),m||(f.b?s():--f.group.r||l(f.group.c)),f=null;else if(t>=f.start){const e=t-f.start;u=f.a+f.d*i(e/f.duration),h(u,1-u)}return f||m}))}let c=n(e,d),u=r?0:1,f=null,m=null,g=null;return{run(e){p(c)?Ne().then(()=>{c=c(),i(e)}):i(e)},end(){s(),f=m=null}}}function Ve(e,t){function n(e,n,d,r){if(t.token!==a)return;t.resolved=r;let s=t.ctx;void 0!==d&&(s=s.slice(),s[d]=r);const o=e&&(t.current=e)(s);let i=!1;t.block&&(t.blocks?t.blocks.forEach((e,a)=>{a!==n&&e&&(je(),He(e,1,1,()=>{t.blocks[a]=null}),De())}):t.block.d(1),o.c(),Ye(o,1),o.m(t.mount(),t.anchor),i=!0),t.block=o,t.blocks&&(t.blocks[n]=o),i&&ze()}const a=t.token={};if(r(e)){const a=$e();if(e.then((e)=>{xe(a),n(t.then,1,t.value,e),xe(null)},(e)=>{xe(a),n(t.catch,2,t.error,e),xe(null)}),t.current!==t.pending)return n(t.pending,0),!0}else{if(t.current!==t.then)return n(t.then,1,t.value,e),!0;t.resolved=e}}function Be(e,t){e.d(1),t.delete(e.key)}function We(e,t){He(e,1,1,()=>{t.delete(e.key)})}function Fe(e,t){e.f(),Be(e,t)}function Ze(e,t){e.f(),We(e,t)}function Je(e,t,a,d,r,s,l,p,c,u,f,m){function g(e){Ye(e,1),e.m(p,f,l.has(e.key)),l.set(e.key,e),f=e.first,o--}let h=e.length,o=s.length,n=h;const i={};for(;n--;)i[e[n].key]=n;const y=[],_=new Map,b=new Map;for(n=o;n--;){const e=m(r,s,n),o=a(e);let p=l.get(o);p?d&&p.p(e,t):(p=u(o,e),p.c()),_.set(o,y[n]=p),o in i&&b.set(o,Rt(n-i[o]))}for(const n=new Set,i=new Set;h&&o;){const t=y[o-1],a=e[h-1],d=t.key,r=a.key;t===a?(f=t.first,h--,o--):_.has(r)?!l.has(d)||n.has(d)?g(t):i.has(r)?h--:b.get(d)>b.get(r)?(i.add(d),g(t)):(n.add(r),h--):(c(a,l),h--)}for(;h--;){const t=e[h];_.has(t.key)||c(t,l)}for(;o;)g(y[o-1]);return y}function Qe(e,t,n,a){const d=new Set;for(let r=0;r<t.length;r++){const s=a(n(e,t,r));if(d.has(s))throw new Error("Cannot have duplicate keys in a keyed each");d.add(s)}}function et(e,t){const a={},d={},r={$$scope:1};for(let s=e.length;s--;){const i=e[s],o=t[s];if(o){for(const e in i)e in o||(d[e]=1);for(const e in o)r[e]||(a[e]=o[e],r[e]=1);e[s]=o}else for(const e in i)r[e]=1}for(const n in d)n in a||(a[n]=void 0);return a}function tt(e){return"object"==typeof e&&null!==e?e:{}}function nt(e,t){const n=Object.assign({},...e);t&&(null==n.class?n.class=t:n.class+=" "+t);let a="";return Object.keys(n).forEach((e)=>{if(!dn.test(e)){const t=n[e];!0===t?a+=" "+e:an.has(e.toLowerCase())?t&&(a+=" "+e):null!=t&&(a+=` ${e}="${(t+"").replace(/"/g,"&#34;").replace(/'/g,"&#39;")}"`)}}),a}function at(e){return(e+"").replace(/["'&<>]/g,(e)=>rn[e])}function dt(e,t){let n="";for(let a=0;a<e.length;a+=1)n+=t(e[a],a);return n}function rt(e,t){if(!e||!e.$$render)throw"svelte:component"===t&&(t+=" this={...}"),new Error(`<${t}> is not a valid SSR component. You may need to review your build config to ensure that dependencies are compiled, rather than imported as pre-compiled modules`);return e}function st(e,t,n,a){return console.log(`{@debug} ${e?e+" ":""}(${t}:${n})`),console.log(a),""}function ot(e){function t(t,n,a,d){const r=Dt;xe({$$:{on_destroy:on,context:new Map(r?r.$$.context:[]),on_mount:[],before_update:[],after_update:[],callbacks:i()}});const s=e(t,n,a,d);return xe(r),s}return{render:(e={},n={})=>{on=[];const a={title:"",head:"",css:new Set},d=t(a,e,{},n);return l(on),{html:d,css:{code:Array.from(a.css).map((e)=>e.code).join("\n"),map:null},head:a.title+a.head}},$$render:t}}function it(e,t,n){return null==t||n&&!t?"":` ${e}${!0===t?"":"="+("string"==typeof t?JSON.stringify(at(t)):`"${t}"`)}`}function lt(e){return e?` class="${e}"`:""}function pt(e,t,n){const a=e.$$.props[t];void 0!==a&&(e.$$.bound[a]=n,n(e.$$.ctx[a]))}function ct(e){e&&e.c()}function ut(e,t){e&&e.l(t)}function ft(e,t,n){const{fragment:a,on_mount:d,on_destroy:r,after_update:s}=e.$$;a&&a.m(t,n),Ue(()=>{const t=d.map(o).filter(p);r?r.push(...t):l(t),e.$$.on_mount=[]}),s.forEach(Ue)}function mt(e,t){const n=e.$$;null!==n.fragment&&(l(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function gt(e,t,n,d,r,s,o=[-1]){const p=Dt;xe(e);const c=t.props||{},u=e.$$={fragment:null,ctx:null,props:s,update:a,not_equal:r,bound:i(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(p?p.$$.context:[]),callbacks:i(),dirty:o};let f=!1;if(u.ctx=n?n(e,c,(t,n,...a)=>{const d=a.length?a[0]:n;return u.ctx&&r(u.ctx[t],u.ctx[t]=d)&&(u.bound[t]&&u.bound[t](d),f&&function(e,t){-1===e.$$.dirty[0]&&(Ht.push(e),Ee(),e.$$.dirty.fill(0)),e.$$.dirty[0|t/31]|=1<<t%31}(e,t)),n}):[],u.update(),f=!0,l(u.before_update),u.fragment=!!d&&d(u.ctx),t.target){if(t.hydrate){const e=ee(t.target);u.fragment&&u.fragment.l(e),e.forEach(P)}else u.fragment&&u.fragment.c();t.intro&&Ye(e.$$.fragment),ft(e,t.target,t.anchor),ze()}xe(p)}function ht(e,t){document.dispatchEvent(ge(e,Object.assign({version:"3.22.3"},t)))}function yt(e,t){ht("SvelteDOMInsert",{target:e,node:t}),R(e,t)}function _t(e,t,n){ht("SvelteDOMInsert",{target:e,node:t,anchor:n}),E(e,t,n)}function bt(e){ht("SvelteDOMRemove",{node:e}),P(e)}function vt(e,t){for(;e.nextSibling&&e.nextSibling!==t;)bt(e.nextSibling)}function kt(e){for(;e.previousSibling;)bt(e.previousSibling)}function xt(e){for(;e.nextSibling;)bt(e.nextSibling)}function $t(e,t,n,a,d,r){const s=!0===a?["capture"]:a?Array.from(Object.keys(a)):[];d&&s.push("preventDefault"),r&&s.push("stopPropagation"),ht("SvelteDOMAddEventListener",{node:e,event:t,handler:n,modifiers:s});const o=Y(e,t,n,a);return()=>{ht("SvelteDOMRemoveEventListener",{node:e,event:t,handler:n,modifiers:s}),o()}}function At(e,t,n){X(e,t,n),null==n?ht("SvelteDOMRemoveAttribute",{node:e,attribute:t}):ht("SvelteDOMSetAttribute",{node:e,attribute:t,value:n})}function St(e,t,n){e[t]=n,ht("SvelteDOMSetProperty",{node:e,property:t,value:n})}function wt(e,t,n){e.dataset[t]=n,ht("SvelteDOMSetDataset",{node:e,property:t,value:n})}function It(e,t){t=""+t,e.data!==t&&(ht("SvelteDOMSetData",{node:e,data:t}),e.data=t)}function Ct(e){if(!("string"==typeof e||e&&"object"==typeof e&&"length"in e)){let t="{#each} only iterates over array-like objects.";throw"function"==typeof Symbol&&e&&Symbol.iterator in e&&(t+=" You can use a spread to convert this iterable into an array."),new Error(t)}}function Tt(e,t,n){for(const a of Object.keys(t))~n.indexOf(a)||console.warn(`<${e}> received an unexpected slot "${a}".`)}function Lt(e){const t=Date.now();return()=>{if(Date.now()-t>e)throw new Error("Infinite loop detected")}}var Rt=Math.abs;n.r(t),n.d(t,"HtmlTag",function(){return Mt}),n.d(t,"SvelteComponent",function(){return pn}),n.d(t,"SvelteComponentDev",function(){return cn}),n.d(t,"SvelteElement",function(){return ln}),n.d(t,"action_destroyer",function(){return S}),n.d(t,"add_attribute",function(){return it}),n.d(t,"add_classes",function(){return lt}),n.d(t,"add_flush_callback",function(){return qe}),n.d(t,"add_location",function(){return s}),n.d(t,"add_render_callback",function(){return Ue}),n.d(t,"add_resize_listener",function(){return fe}),n.d(t,"add_transform",function(){return ke}),n.d(t,"afterUpdate",function(){return we}),n.d(t,"append",function(){return R}),n.d(t,"append_dev",function(){return yt}),n.d(t,"assign",function(){return d}),n.d(t,"attr",function(){return X}),n.d(t,"attr_dev",function(){return At}),n.d(t,"beforeUpdate",function(){return Ae}),n.d(t,"bind",function(){return pt}),n.d(t,"binding_callbacks",function(){return Kt}),n.d(t,"blank_object",function(){return i}),n.d(t,"bubble",function(){return Re}),n.d(t,"check_outros",function(){return De}),n.d(t,"children",function(){return ee}),n.d(t,"claim_component",function(){return ut}),n.d(t,"claim_element",function(){return te}),n.d(t,"claim_space",function(){return ae}),n.d(t,"claim_text",function(){return ne}),n.d(t,"clear_loops",function(){return T}),n.d(t,"component_subscribe",function(){return h}),n.d(t,"compute_rest_props",function(){return k}),n.d(t,"createEventDispatcher",function(){return Ce}),n.d(t,"create_animation",function(){return be}),n.d(t,"create_bidirectional_transition",function(){return Xe}),n.d(t,"create_component",function(){return ct}),n.d(t,"create_in_transition",function(){return Ge}),n.d(t,"create_out_transition",function(){return Ke}),n.d(t,"create_slot",function(){return y}),n.d(t,"create_ssr_component",function(){return ot}),n.d(t,"current_component",function(){return Dt}),n.d(t,"custom_event",function(){return ge}),n.d(t,"dataset_dev",function(){return wt}),n.d(t,"debug",function(){return st}),n.d(t,"destroy_block",function(){return Be}),n.d(t,"destroy_component",function(){return mt}),n.d(t,"destroy_each",function(){return U}),n.d(t,"detach",function(){return P}),n.d(t,"detach_after_dev",function(){return xt}),n.d(t,"detach_before_dev",function(){return kt}),n.d(t,"detach_between_dev",function(){return vt}),n.d(t,"detach_dev",function(){return bt}),n.d(t,"dirty_components",function(){return Ht}),n.d(t,"dispatch_dev",function(){return ht}),n.d(t,"each",function(){return dt}),n.d(t,"element",function(){return q}),n.d(t,"element_is",function(){return z}),n.d(t,"empty",function(){return D}),n.d(t,"escape",function(){return at}),n.d(t,"escaped",function(){return rn}),n.d(t,"exclude_internal_props",function(){return v}),n.d(t,"fix_and_destroy_block",function(){return Fe}),n.d(t,"fix_and_outro_and_destroy_block",function(){return Ze}),n.d(t,"fix_position",function(){return ve}),n.d(t,"flush",function(){return ze}),n.d(t,"getContext",function(){return Le}),n.d(t,"get_binding_group_value",function(){return Z}),n.d(t,"get_current_component",function(){return $e}),n.d(t,"get_slot_changes",function(){return b}),n.d(t,"get_slot_context",function(){return _}),n.d(t,"get_spread_object",function(){return tt}),n.d(t,"get_spread_update",function(){return et}),n.d(t,"get_store_value",function(){return g}),n.d(t,"globals",function(){return nn}),n.d(t,"group_outros",function(){return je}),n.d(t,"handle_promise",function(){return Ve}),n.d(t,"has_prop",function(){return Pt}),n.d(t,"identity",function(){return Et}),n.d(t,"init",function(){return gt}),n.d(t,"insert",function(){return E}),n.d(t,"insert_dev",function(){return _t}),n.d(t,"intros",function(){return Gt}),n.d(t,"invalid_attribute_name_character",function(){return dn}),n.d(t,"is_client",function(){return Ut}),n.d(t,"is_crossorigin",function(){return ue}),n.d(t,"is_function",function(){return p}),n.d(t,"is_promise",function(){return r}),n.d(t,"listen",function(){return Y}),n.d(t,"listen_dev",function(){return $t}),n.d(t,"loop",function(){return L}),n.d(t,"loop_guard",function(){return Lt}),n.d(t,"missing_component",function(){return sn}),n.d(t,"mount_component",function(){return ft}),n.d(t,"noop",function(){return a}),n.d(t,"not_equal",function(){return u}),n.d(t,"now",function(){return qt}),n.d(t,"null_to_empty",function(){return $}),n.d(t,"object_without_properties",function(){return O}),n.d(t,"onDestroy",function(){return Ie}),n.d(t,"onMount",function(){return Se}),n.d(t,"once",function(){return x}),n.d(t,"outro_and_destroy_block",function(){return We}),n.d(t,"prevent_default",function(){return H}),n.d(t,"prop_dev",function(){return St}),n.d(t,"query_selector_all",function(){return he}),n.d(t,"raf",function(){return zt}),n.d(t,"run",function(){return o}),n.d(t,"run_all",function(){return l}),n.d(t,"safe_not_equal",function(){return c}),n.d(t,"schedule_update",function(){return Ee}),n.d(t,"select_multiple_value",function(){return ce}),n.d(t,"select_option",function(){return ie}),n.d(t,"select_options",function(){return le}),n.d(t,"select_value",function(){return pe}),n.d(t,"self",function(){return K}),n.d(t,"setContext",function(){return Te}),n.d(t,"set_attributes",function(){return V}),n.d(t,"set_current_component",function(){return xe}),n.d(t,"set_custom_element_data",function(){return W}),n.d(t,"set_data",function(){return de}),n.d(t,"set_data_dev",function(){return It}),n.d(t,"set_input_type",function(){return se}),n.d(t,"set_input_value",function(){return re}),n.d(t,"set_now",function(){return w}),n.d(t,"set_raf",function(){return I}),n.d(t,"set_store_value",function(){return A}),n.d(t,"set_style",function(){return oe}),n.d(t,"set_svg_attributes",function(){return B}),n.d(t,"space",function(){return j}),n.d(t,"spread",function(){return nt}),n.d(t,"stop_propagation",function(){return G}),n.d(t,"subscribe",function(){return m}),n.d(t,"svg_element",function(){return N}),n.d(t,"text",function(){return M}),n.d(t,"tick",function(){return Pe}),n.d(t,"time_ranges_to_array",function(){return Q}),n.d(t,"to_number",function(){return J}),n.d(t,"toggle_class",function(){return me}),n.d(t,"transition_in",function(){return Ye}),n.d(t,"transition_out",function(){return He}),n.d(t,"update_keyed_each",function(){return Je}),n.d(t,"validate_component",function(){return rt}),n.d(t,"validate_each_argument",function(){return Ct}),n.d(t,"validate_each_keys",function(){return Qe}),n.d(t,"validate_slots",function(){return Tt}),n.d(t,"validate_store",function(){return f}),n.d(t,"xlink_attr",function(){return F});const Et=(e)=>e,Pt=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),Ut="undefined"!=typeof window;let qt=Ut?()=>window.performance.now():()=>Date.now(),zt=Ut?(e)=>requestAnimationFrame(e):a;const Ot=new Set;let Nt;class Mt{constructor(e,t=null){this.e=q("div"),this.a=t,this.u(e)}m(e,t=null){for(let n=0;n<this.n.length;n+=1)E(e,this.n[n],t);this.t=e}u(e){this.e.innerHTML=e,this.n=Array.from(this.e.childNodes)}p(e){this.d(),this.u(e),this.m(this.t,this.a)}d(){this.n.forEach(P)}}const jt=new Set;let Dt,Yt=0;const Ht=[],Gt={enabled:!1},Kt=[],Xt=[],Vt=[],Bt=Promise.resolve();let Wt=!1,Ft=!1;const Zt=new Set;let Jt;const Qt=new Set;let en;const tn={duration:0},nn="undefined"==typeof window?"undefined"==typeof globalThis?global:globalThis:window,an=new Set(["allowfullscreen","allowpaymentrequest","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","hidden","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected"]),dn=/[\s'">/=\u{FDD0}-\u{FDEF}\u{FFFE}\u{FFFF}\u{1FFFE}\u{1FFFF}\u{2FFFE}\u{2FFFF}\u{3FFFE}\u{3FFFF}\u{4FFFE}\u{4FFFF}\u{5FFFE}\u{5FFFF}\u{6FFFE}\u{6FFFF}\u{7FFFE}\u{7FFFF}\u{8FFFE}\u{8FFFF}\u{9FFFE}\u{9FFFF}\u{AFFFE}\u{AFFFF}\u{BFFFE}\u{BFFFF}\u{CFFFE}\u{CFFFF}\u{DFFFE}\u{DFFFF}\u{EFFFE}\u{EFFFF}\u{FFFFE}\u{FFFFF}\u{10FFFE}\u{10FFFF}]/u,rn={'"':"&quot;","'":"&#39;","&":"&amp;","<":"&lt;",">":"&gt;"},sn={$$render:()=>""};let on,ln;"function"==typeof HTMLElement&&(ln=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){for(const e in this.$$.slotted)this.appendChild(this.$$.slotted[e])}attributeChangedCallback(e,t,n){this[e]=n}$destroy(){mt(this,1),this.$destroy=a}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(){}});class pn{$destroy(){mt(this,1),this.$destroy=a}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(){}}class cn extends pn{constructor(e){if(!e||!e.target&&!e.$$inline)throw new Error("'target' is a required option");super()}$destroy(){super.$destroy(),this.$destroy=()=>{console.warn("Component was already destroyed")}}$capture_state(){}$inject_state(){}}},function(e,t,n){"use strict";function a(e){let t,n,a,d,o,i,l,p=Object(s.formatNumber)(e[1],e[2])+"";return{c(){t=Object(r.element)("li"),n=Object(r.element)("strong"),a=Object(r.text)(e[0]),d=Object(r.text)(":"),o=Object(r.space)(),i=Object(r.text)(p),l=Object(r.text)(e[3])},m(e,s){Object(r.insert)(e,t,s),Object(r.append)(t,n),Object(r.append)(n,a),Object(r.append)(n,d),Object(r.append)(t,o),Object(r.append)(t,i),Object(r.append)(t,l)},p(e,[t]){1&t&&Object(r.set_data)(a,e[0]),6&t&&p!=(p=Object(s.formatNumber)(e[1],e[2])+"")&&Object(r.set_data)(i,p),8&t&&Object(r.set_data)(l,e[3])},i:r.noop,o:r.noop,d(e){e&&Object(r.detach)(t)}}}function d(e,t,n){let{label:a}=t,{value:d}=t,{precision:r=2}=t,{suffix:s=""}=t;return e.$set=(e)=>{"label"in e&&n(0,a=e.label),"value"in e&&n(1,d=e.value),"precision"in e&&n(2,r=e.precision),"suffix"in e&&n(3,s=e.suffix)},[a,d,r,s]}n.r(t);var r=n(2),s=n(4);class o extends r.SvelteComponent{constructor(e){super(),Object(r.init)(this,e,d,a,r.safe_not_equal,{label:0,value:1,precision:2,suffix:3})}}t.default=o},function(e,t,n){"use strict";function a(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:2,a=3<arguments.length&&void 0!==arguments[3]&&arguments[3];return(e?d(e,n,a):"-")+(e&&t?t:"")}function d(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:2,n=2<arguments.length&&void 0!==arguments[2]&&arguments[2];return(n&&0<e?"+":"")+e.toLocaleString(i.default.COUNTRY,{minimumFractionDigits:t,maximumFractionDigits:t})}function r(e){var t=new Intl.RelativeTimeFormat(i.default.COUNTRY,{localeMatcher:"best fit",numeric:"auto",style:"long"}),n=(Date.now()-dateFromString(e))/1e3;return 60>n?t.format(-o(n),"second"):3600>n?t.format(-o(n/60),"minute"):86400>n?t.format(-o(n/3600),"hour"):2592e3>n?t.format(-o(n/86400),"day"):31536e3>n?t.format(-o(n/2592e3),"month"):t.format(-Math.floor(n/31536e3),"year")}function s(e,t){return Object.keys(t).reduce((e,n)=>e.replace(new RegExp("\\${"+n+"}","gi"),t[n]),e)}var o=Math.ceil;n.r(t),n.d(t,"formatNumberWithSuffix",function(){return a}),n.d(t,"formatNumber",function(){return d}),n.d(t,"formatDate",function(){return r}),n.d(t,"substituteVars",function(){return s});var i=n(5)},function(e,t,n){"use strict";function a(){var e=localStorage.getItem("home_user");return e?JSON.parse(e).id:null}n.r(t),n.d(t,"getMainUserId",function(){return a}),t.default={COUNTRY:"pl",SSE_CHECK_DELAY:500,SCORESABER_URL:"https://scoresaber.com",USER_PROFILE_URL:"https://scoresaber.com/u/${userId}",SS_PLAYERS_PER_PAGE:50,MAGIC_HISTORY_NUMBER:999999}},function(e,t,n){"use strict";function a(e){let n,a;return{c(){n=Object(o.element)("span"),a=Object(o.text)(e[2]),Object(o.attr)(n,"class","err svelte-wvtsq")},m(e,t){Object(o.insert)(e,n,t),Object(o.append)(n,a)},p(e,t){4&t&&Object(o.set_data)(a,e[2])},d(e){e&&Object(o.detach)(n)}}}function d(e){let t,n,a;return{c(){t=Object(o.element)("span"),n=Object(o.text)(e[1]),a=Object(o.text)("\n    raw pp new play")},m(e,d){Object(o.insert)(e,t,d),Object(o.append)(t,n),Object(o.insert)(e,a,d)},p(e,t){2&t&&Object(o.set_data)(n,e[1])},d(e){e&&Object(o.detach)(t),e&&Object(o.detach)(a)}}}function r(e){function t(e){return e[2].length?a:d}let n,r,s,i,l,p,c,u=t(e),f=u(e);return{c(){n=Object(o.element)("strong"),n.textContent="+",r=Object(o.element)("input"),s=Object(o.space)(),i=Object(o.element)("strong"),i.textContent="pp:",l=Object(o.space)(),f.c(),p=Object(o.empty)(),Object(o.attr)(r,"class","pp-boundary svelte-wvtsq")},m(t,a,d){Object(o.insert)(t,n,a),Object(o.insert)(t,r,a),Object(o.set_input_value)(r,e[0]),Object(o.insert)(t,s,a),Object(o.insert)(t,i,a),Object(o.insert)(t,l,a),f.m(t,a),Object(o.insert)(t,p,a),d&&c(),c=Object(o.listen)(r,"input",e[4])},p(e,[n]){1&n&&r.value!==e[0]&&Object(o.set_input_value)(r,e[0]),u===(u=t(e))&&f?f.p(e,n):(f.d(1),f=u(e),f&&(f.c(),f.m(p.parentNode,p)))},i:o.noop,o:o.noop,d(e){e&&Object(o.detach)(n),e&&Object(o.detach)(r),e&&Object(o.detach)(s),e&&Object(o.detach)(i),e&&Object(o.detach)(l),f.d(e),e&&Object(o.detach)(p),c()}}}function s(e,t,n){let{scores:a}=t,d="1,00",r="???",s="";return e.$set=(e)=>{"scores"in e&&n(3,a=e.scores)},e.$$.update=()=>{9&e.$$.dirty&&(/^\s*\d+((,|.)\d+)?$/.test(d)?(n(1,r=Object(i.formatNumber)(Object(l.findRawPp)(a,parseFloat(d.replace(/\s/,"").replace(",","."))))),n(2,s="")):n(2,s=`Wpisz moe jak liczb, ok? 1 jest liczb, 10 jest, a nawet 100. Ale "${d}"?`))},[d,r,s,a,function(){d=this.value,n(0,d)}]}n.r(t);var o=n(2),i=n(4),l=n(7);class p extends o.SvelteComponent{constructor(e){var t;super(),document.getElementById("svelte-wvtsq-style")||((t=Object(o.element)("style")).id="svelte-wvtsq-style",t.textContent=".pp-boundary.svelte-wvtsq{border:none;background:transparent;font-weight:700;font-size:1rem;width:3rem;text-align:center;margin-right:.25rem;outline:none}.err.svelte-wvtsq{color:red}",Object(o.append)(document.head,t)),Object(o.init)(this,e,s,r,o.safe_not_equal,{scores:3})}}t.default=p},function(e,t,n){"use strict";function a(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return e.reduce((e,n,a)=>e+s(.965,a+t)*n,0)}function d(e,t,n){return(n+a(e,t)-a(e,t+1))/s(.965,t)}function r(e,t){if(!e.length)return t;for(var n=e.length-1;0<=n;){var r=e.slice(n),s=a(r,n);if(r.unshift(e[n]),a(r,n)-s>t)return d(e.slice(n+1),n+1,t);n--}return d(e,0,t)}var s=Math.pow;n.r(t),n.d(t,"calcPp",function(){return a}),n.d(t,"calcRawPpAtIdx",function(){return d}),n.d(t,"findRawPp",function(){return r})},function(e,t,n){"use strict";function a(e,t,n){const a=e.slice();return a[7]=t[n],a[9]=n,a}function d(e,t,n){const a=e.slice();return a[10]=t[n],a}function r(e){let n,a,t,d,r=e[10].text+"";return{c(){n=Object(p.element)("option"),a=Object(p.text)(r),n.__value=t=e[10],n.value=n.__value,n.selected=d=e[10].value===e[0]},m(e,t){Object(p.insert)(e,n,t),Object(p.append)(n,a)},p(e,t){1&t&&d!==(d=e[10].value===e[0])&&(n.selected=d)},d(e){e&&Object(p.detach)(n)}}}function s(e,t){let n,a,d,r,s,o,i,h,y,_,b,v;const k=new c.default({props:{rank:t[9]+1,subRank:t[7].rank,url:"/global/"+encodeURIComponent(l(t[7].rank/g.default.SS_PLAYERS_PER_PAGE))}}),x=new u.default({props:{user:t[7]}}),$=new f.default({props:{pp:t[7].pp,zero:"0,00"}}),A=new m.default({props:{value:t[7].change?t[7].change:0,digits:0,withSign:!0}});return{key:e,first:null,c(){n=Object(p.element)("tr"),a=Object(p.element)("td"),Object(p.create_component)(k.$$.fragment),d=Object(p.space)(),r=Object(p.element)("td"),Object(p.create_component)(x.$$.fragment),s=Object(p.space)(),o=Object(p.element)("td"),Object(p.create_component)($.$$.fragment),i=Object(p.space)(),h=Object(p.element)("td"),Object(p.create_component)(A.$$.fragment),_=Object(p.space)(),Object(p.attr)(a,"class","rank"),Object(p.attr)(r,"class","player"),Object(p.attr)(o,"class","pp"),Object(p.attr)(h,"class",y="diff "+(t[7].change?0<t[7].change?"inc":"dec":"")),Object(p.attr)(n,"style",b=t[4]===t[7].id?"background-color: var(--color-highlight);":""),this.first=n},m(e,t){Object(p.insert)(e,n,t),Object(p.append)(n,a),Object(p.mount_component)(k,a,null),Object(p.append)(n,d),Object(p.append)(n,r),Object(p.mount_component)(x,r,null),Object(p.append)(n,s),Object(p.append)(n,o),Object(p.mount_component)($,o,null),Object(p.append)(n,i),Object(p.append)(n,h),Object(p.mount_component)(A,h,null),Object(p.append)(n,_),v=!0},p(e,t){const a={};4&t&&(a.rank=e[9]+1),4&t&&(a.subRank=e[7].rank),4&t&&(a.url="/global/"+encodeURIComponent(l(e[7].rank/g.default.SS_PLAYERS_PER_PAGE))),k.$set(a);const d={};4&t&&(d.user=e[7]),x.$set(d);const r={};4&t&&(r.pp=e[7].pp),$.$set(r);const s={};4&t&&(s.value=e[7].change?e[7].change:0),A.$set(s),(!v||4&t&&y!==(y="diff "+(e[7].change?0<e[7].change?"inc":"dec":"")))&&Object(p.attr)(h,"class",y),(!v||4&t&&b!==(b=e[4]===e[7].id?"background-color: var(--color-highlight);":""))&&Object(p.attr)(n,"style",b)},i(e){v||(Object(p.transition_in)(k.$$.fragment,e),Object(p.transition_in)(x.$$.fragment,e),Object(p.transition_in)($.$$.fragment,e),Object(p.transition_in)(A.$$.fragment,e),v=!0)},o(e){Object(p.transition_out)(k.$$.fragment,e),Object(p.transition_out)(x.$$.fragment,e),Object(p.transition_out)($.$$.fragment,e),Object(p.transition_out)(A.$$.fragment,e),v=!1},d(e){e&&Object(p.detach)(n),Object(p.destroy_component)(k),Object(p.destroy_component)(x),Object(p.destroy_component)($),Object(p.destroy_component)(A)}}}function o(e){let t,n,o,i,l,c,u,f,m,g,h,y,_,b,v,k=[],x=new Map,$=e[3],A=[];for(let t=0;t<$.length;t+=1)A[t]=r(d(e,$,t));let S=e[2];const w=(e)=>e[7].id;for(let t=0;t<S.length;t+=1){let n=a(e,S,t),d=w(n);x.set(d,k[t]=s(d,n))}return{c(){t=Object(p.element)("table"),n=Object(p.element)("thead"),o=Object(p.element)("tr"),i=Object(p.element)("th"),i.textContent="Pozycja",l=Object(p.space)(),c=Object(p.element)("th"),c.textContent="Gracz",u=Object(p.space)(),f=Object(p.element)("th"),f.textContent="PPs",m=Object(p.space)(),g=Object(p.element)("th"),h=Object(p.element)("select");for(let e=0;e<A.length;e+=1)A[e].c();y=Object(p.space)(),_=Object(p.element)("tbody");for(let e=0;e<k.length;e+=1)k[e].c();Object(p.attr)(i,"class","rank"),Object(p.attr)(c,"class","player"),Object(p.attr)(f,"class","pp"),void 0===e[1]&&Object(p.add_render_callback)(()=>e[6].call(h)),Object(p.attr)(g,"class","diff"),Object(p.attr)(t,"class","ranking global sspl")},m(a,d,r){Object(p.insert)(a,t,d),Object(p.append)(t,n),Object(p.append)(n,o),Object(p.append)(o,i),Object(p.append)(o,l),Object(p.append)(o,c),Object(p.append)(o,u),Object(p.append)(o,f),Object(p.append)(o,m),Object(p.append)(o,g),Object(p.append)(g,h);for(let e=0;e<A.length;e+=1)A[e].m(h,null);Object(p.select_option)(h,e[1]),Object(p.append)(t,y),Object(p.append)(t,_);for(let e=0;e<k.length;e+=1)k[e].m(_,null);b=!0,r&&v(),v=Object(p.listen)(h,"change",e[6])},p(e,[t]){if(9&t){let n;for($=e[3],n=0;n<$.length;n+=1){const a=d(e,$,n);A[n]?A[n].p(a,t):(A[n]=r(a),A[n].c(),A[n].m(h,null))}for(;n<A.length;n+=1)A[n].d(1);A.length=$.length}if(2&t&&Object(p.select_option)(h,e[1]),20&t){const n=e[2];Object(p.group_outros)(),k=Object(p.update_keyed_each)(k,t,w,1,e,n,x,_,p.outro_and_destroy_block,s,null,a),Object(p.check_outros)()}},i(){if(!b){for(let e=0;e<S.length;e+=1)Object(p.transition_in)(k[e]);b=!0}},o(){for(let e=0;e<k.length;e+=1)Object(p.transition_out)(k[e]);b=!1},d(e){e&&Object(p.detach)(t),Object(p.destroy_each)(A,e);for(let t=0;t<k.length;t+=1)k[t].d();v()}}}function i(e,t,n){let{diff:a=6}=t,{users:d={}}=t;const r=[{value:0,text:"Dzie\u0144"},{value:6,text:"Tydzie\u0144"},{value:29,text:"Miesi\u0105c"}],s=Object(g.getMainUserId)();let o=r.find((e)=>e.value===a),i=[];return e.$set=(e)=>{"diff"in e&&n(0,a=e.diff),"users"in e&&n(5,d=e.users)},e.$$.update=()=>{34&e.$$.dirty&&o&&n(2,i=Object.keys(d).reduce((e,t)=>{const{id:n,name:a,country:r,pp:s,rank:i,history:l}=d[t],p=l&&void 0!==l[o.value]?l[o.value]:null;return e.push({id:n,name:a,country:r,pp:s,rank:i,history:l,change:i&&p&&i!==g.default.MAGIC_HISTORY_NUMBER&&p!==g.default.MAGIC_HISTORY_NUMBER?p-i:null}),e},[]).sort((e,t)=>t.pp-e.pp).slice(0,50))},[a,o,i,r,s,d,function(){o=Object(p.select_value)(this),n(1,o),n(3,r)}]}var l=Math.ceil;n.r(t);var p=n(2),c=n(9),u=n(11),f=n(12),m=n(10),g=n(5);class h extends p.SvelteComponent{constructor(e){super(),Object(p.init)(this,e,i,o,p.safe_not_equal,{diff:0,users:5})}}t.default=h},function(e,t,n){"use strict";function a(e){function t(e){return e[2]?0:1}let n,a,s,o;const l=[r,d],p=[];return a=t(e),s=p[a]=l[a](e),{c(){n=Object(i.element)("small"),s.c()},m(e,t){Object(i.insert)(e,n,t),p[a].m(n,null),o=!0},p(e,d){let r=a;a=t(e),a===r?p[a].p(e,d):(Object(i.group_outros)(),Object(i.transition_out)(p[r],1,1,()=>{p[r]=null}),Object(i.check_outros)(),s=p[a],s||(s=p[a]=l[a](e),s.c()),Object(i.transition_in)(s,1),s.m(n,null))},i(){o||(Object(i.transition_in)(s),o=!0)},o(){Object(i.transition_out)(s),o=!1},d(e){e&&Object(i.detach)(n),p[a].d()}}}function d(e){let n,t;const a=new l.default({props:{value:e[1],zero:"-",digits:0}});return{c(){n=Object(i.text)("#"),Object(i.create_component)(a.$$.fragment)},m(e,d){Object(i.insert)(e,n,d),Object(i.mount_component)(a,e,d),t=!0},p(e,t){const n={};2&t&&(n.value=e[1]),a.$set(n)},i(e){t||(Object(i.transition_in)(a.$$.fragment,e),t=!0)},o(e){Object(i.transition_out)(a.$$.fragment,e),t=!1},d(e){e&&Object(i.detach)(n),Object(i.destroy_component)(a,e)}}}function r(e){let n,a,t;const d=new l.default({props:{value:e[1],zero:"-",digits:0}});return{c(){n=Object(i.element)("a"),a=Object(i.text)("#"),Object(i.create_component)(d.$$.fragment),Object(i.attr)(n,"href",e[2])},m(e,r){Object(i.insert)(e,n,r),Object(i.append)(n,a),Object(i.mount_component)(d,n,null),t=!0},p(e,a){const r={};2&a&&(r.value=e[1]),d.$set(r),(!t||4&a)&&Object(i.attr)(n,"href",e[2])},i(e){t||(Object(i.transition_in)(d.$$.fragment,e),t=!0)},o(e){Object(i.transition_out)(d.$$.fragment,e),t=!1},d(e){e&&Object(i.detach)(n),Object(i.destroy_component)(d)}}}function s(e){let t,n,d,r,s;const o=new l.default({props:{value:e[0],zero:"-",digits:0}});let p=e[1]&&a(e);return{c(){t=Object(i.element)("span"),n=Object(i.text)("#"),Object(i.create_component)(o.$$.fragment),d=Object(i.space)(),p&&p.c(),r=Object(i.empty)()},m(e,a){Object(i.insert)(e,t,a),Object(i.append)(t,n),Object(i.mount_component)(o,t,null),Object(i.insert)(e,d,a),p&&p.m(e,a),Object(i.insert)(e,r,a),s=!0},p(e,[t]){const n={};1&t&&(n.value=e[0]),o.$set(n),e[1]?p?(p.p(e,t),2&t&&Object(i.transition_in)(p,1)):(p=a(e),p.c(),Object(i.transition_in)(p,1),p.m(r.parentNode,r)):p&&(Object(i.group_outros)(),Object(i.transition_out)(p,1,1,()=>{p=null}),Object(i.check_outros)())},i(e){s||(Object(i.transition_in)(o.$$.fragment,e),Object(i.transition_in)(p),s=!0)},o(e){Object(i.transition_out)(o.$$.fragment,e),Object(i.transition_out)(p),s=!1},d(e){e&&Object(i.detach)(t),Object(i.destroy_component)(o),e&&Object(i.detach)(d),p&&p.d(e),e&&Object(i.detach)(r)}}}function o(e,t,n){let{rank:a}=t,{subRank:d}=t,{url:r}=t;return e.$set=(e)=>{"rank"in e&&n(0,a=e.rank),"subRank"in e&&n(1,d=e.subRank),"url"in e&&n(2,r=e.url)},[a,d,r]}n.r(t);var i=n(2),l=n(10);class p extends i.SvelteComponent{constructor(e){super(),Object(i.init)(this,e,o,s,i.safe_not_equal,{rank:0,subRank:1,url:2})}}t.default=p},function(e,t,n){"use strict";function a(e){let n;return{c(){n=Object(r.text)(e[0])},m(e,t){Object(r.insert)(e,n,t)},p(e,[t]){1&t&&Object(r.set_data)(n,e[0])},i:r.noop,o:r.noop,d(e){e&&Object(r.detach)(n)}}}function d(e,t,n){let a,{value:d=0}=t,{zero:r="0,00"}=t,{digits:o=2}=t,{withSign:i=!1}=t;return e.$set=(e)=>{"value"in e&&n(1,d=e.value),"zero"in e&&n(2,r=e.zero),"digits"in e&&n(3,o=e.digits),"withSign"in e&&n(4,i=e.withSign)},e.$$.update=()=>{30&e.$$.dirty&&n(0,a=d?Object(s.formatNumber)(d,o,i):r)},[a,d,r,o,i]}n.r(t);var r=n(2),s=n(4);class o extends r.SvelteComponent{constructor(e){super(),Object(r.init)(this,e,d,a,r.safe_not_equal,{value:1,zero:2,digits:3,withSign:4})}}t.default=o},function(e,t,n){"use strict";function a(e){let t,n,a,d,r,l,p;return{c(){t=Object(s.element)("a"),n=Object(s.element)("img"),d=Object(s.space)(),r=Object(s.element)("span"),l=Object(s.text)(e[3]),n.src!==(a="/imports/images/flags/"+e[2]+".png")&&Object(s.attr)(n,"src",a),Object(s.attr)(r,"class","player-name"),Object(s.attr)(t,"href",p=Object(i.substituteVars)(o.default.USER_PROFILE_URL,{userId:e[1]}))},m(e,a){Object(s.insert)(e,t,a),Object(s.append)(t,n),Object(s.append)(t,d),Object(s.append)(t,r),Object(s.append)(r,l)},p(e,d){4&d&&n.src!==(a="/imports/images/flags/"+e[2]+".png")&&Object(s.attr)(n,"src",a),8&d&&Object(s.set_data)(l,e[3]),2&d&&p!==(p=Object(i.substituteVars)(o.default.USER_PROFILE_URL,{userId:e[1]}))&&Object(s.attr)(t,"href",p)},d(e){e&&Object(s.detach)(t)}}}function d(e){let t,n=e[0]&&a(e);return{c(){n&&n.c(),t=Object(s.empty)()},m(e,a){n&&n.m(e,a),Object(s.insert)(e,t,a)},p(e,[d]){e[0]?n?n.p(e,d):(n=a(e),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},i:s.noop,o:s.noop,d(e){n&&n.d(e),e&&Object(s.detach)(t)}}}function r(e,t,n){let a,d,r,{user:s}=t;return e.$set=(e)=>{"user"in e&&n(0,s=e.user)},e.$$.update=()=>{1&e.$$.dirty&&n(1,a=s&&s.id?s.id:null),1&e.$$.dirty&&n(2,d=s&&s.country?s.country.toLowerCase():o.default.COUNTRY),1&e.$$.dirty&&n(3,r=s&&s.name?s.name:"???")},[s,a,d,r]}n.r(t);var s=n(2),o=n(5),i=n(4);class l extends s.SvelteComponent{constructor(e){super(),Object(s.init)(this,e,r,d,s.safe_not_equal,{user:0})}}t.default=l},function(e,t,n){"use strict";function a(e){let t,n,a,d;const o=new s.default({props:{value:e[0],zero:e[1]}});return{c(){t=Object(r.element)("span"),Object(r.create_component)(o.$$.fragment),n=Object(r.space)(),a=Object(r.element)("span"),a.textContent="pp",Object(r.attr)(t,"class","scoreTop ppValue"),Object(r.attr)(a,"class","scoreTop ppLabel")},m(e,s){Object(r.insert)(e,t,s),Object(r.mount_component)(o,t,null),Object(r.insert)(e,n,s),Object(r.insert)(e,a,s),d=!0},p(e,[t]){const n={};1&t&&(n.value=e[0]),2&t&&(n.zero=e[1]),o.$set(n)},i(e){d||(Object(r.transition_in)(o.$$.fragment,e),d=!0)},o(e){Object(r.transition_out)(o.$$.fragment,e),d=!1},d(e){e&&Object(r.detach)(t),Object(r.destroy_component)(o),e&&Object(r.detach)(n),e&&Object(r.detach)(a)}}}function d(e,t,n){let{pp:a=0}=t,{zero:d="-"}=t;return e.$set=(e)=>{"pp"in e&&n(0,a=e.pp),"zero"in e&&n(1,d=e.zero)},[a,d]}n.r(t);var r=n(2),s=n(10);class o extends r.SvelteComponent{constructor(e){super(),Object(r.init)(this,e,d,a,r.safe_not_equal,{pp:0,zero:1})}}t.default=o},function(e,t,n){var a=n(14);e.exports={info:(e)=>{console.info("[".concat(a.header.name,"]"),e)},debug:(e)=>{console.debug("[".concat(a.header.name,"]"),e)},warn:(e)=>{console.warn("[".concat(a.header.name,"]"),e)}}},function(e,t,n){var a=n(15);e.exports.config={entry:"./src/index.js"},e.exports.header=a,e.exports.buildedHeader=()=>{var e=[];for(var t in e.push("// ==UserScript=="),a)if(Array.isArray(a[t]))for(var n in 0<a[t].length&&e.push("//"),a[t])e.push("// @"+t.padEnd(13)+a[t][n]);else e.push("// @"+t.padEnd(13)+a[t]);return e.push("// ==/UserScript=="),e.push(""),e.join("\n")}},function(e){e.exports=JSON.parse("{\"name\":\"ScoreSaber country leaderboard\",\"namespace\":\"https://motzel.dev\",\"version\":\"0.6.9.4\",\"description\":\"Add country leaderboard tab\",\"author\":\"motzel\",\"icon\":\"https://scoresaber.com/imports/images/logo.ico\",\"updateURL\":\"https://github.com/motzel/ScoreSaberCountryLeaderboard/raw/master/dist/scoresaber-country-leaderboard.user.js\",\"downloadURL\":\"https://github.com/motzel/ScoreSaberCountryLeaderboard/raw/master/dist/scoresaber-country-leaderboard.user.js\",\"supportURL\":\"https://github.com/motzel/ScoreSaberCountryLeaderboard/issues\",\"match\":[\"https://scoresaber.com/leaderboard/*\",\"https://scoresaber.com/u/*\"],\"include\":[\"/^https://scoresaber\\\\.com\\\\/global(\\\\/\\\\d+&country=pl|\\\\?country=pl)/\"],\"require\":[\"https://cdnjs.cloudflare.com/ajax/libs/localforage/1.7.3/localforage.min.js\"],\"grant\":[\"GM_addStyle\",\"GM_info\",\"GM_xmlhttpRequest\"],\"run-at\":\"document-end\"}")},function(e,t,n){(t=n(17)(!1)).push([e.i,".navbar-brand .navbar-item b{background:#fff;background:-webkit-gradient(left top,left bottom,color-stop(0,#fff),color-stop(55%,#fff),color-stop(55%,red),color-stop(100%,#ff1500));background:linear-gradient(180deg,#fff 0,#fff 55%,red 0,#ff1500);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr=\"#ffffff\",endColorstr=\"#ff1500\",GradientType=0);-webkit-background-clip:text;-webkit-text-fill-color:transparent}.sspl .player-name{font-size:1.1rem;font-weight:700}.sspl .diff.inc{color:#42b129!important}.sspl .diff.dec{color:#f94022!important}#new-rankeds{margin-bottom:2rem}#new-rankeds td,#new-rankeds th{text-align:center}#new-rankeds tbody tr td:first-child{text-align:left}.what-if{position:absolute;top:1em;right:0;font-weight:700;padding:0}table.ranking.songs th.score,table.ranking td.pp{position:relative}table.ranking tbody tr.hidden{opacity:.05}.content table.ranking.global.sspl .diff,.content table.ranking.global.sspl .pp{text-align:center}.box .tabs a{border-bottom:none}.box .tabs li:hover{border-bottom:1px solid #000;margin-bottom:-1px}.tabs li.is-active{border-bottom:1px solid #3273dc;margin-bottom:-1px}img.bloodtrail{height:24px}.sspl .rank small{font-size:.75rem;margin-left:.5rem;color:#d3d3d3}.sspl .rank span{display:inline-block;width:1.5rem;text-align:right}.text-center{text-align:center}#sspl progress{width:20rem;max-width:90%}#ssplrefresh{text-align:right;margin-bottom:1rem}#ssplrefresh button,#ssplrefresh strong{margin-right:.5rem}.offset_tab{margin-left:auto}",""]),e.exports=t},function(e){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var n=function(e,t){var n=e[1]||"",a=e[3];if(!a)return n;if(t&&"function"==typeof btoa){var d=(s=a,o=btoa(unescape(encodeURIComponent(JSON.stringify(s)))),i="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(o),"/*# ".concat(i," */")),r=a.sources.map(function(e){return"/*# sourceURL=".concat(a.sourceRoot||"").concat(e," */")});return[n].concat(r).concat([d]).join("\n")}var s,o,i;return[n].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n}).join("")},t.i=function(e,n,a){"string"==typeof e&&(e=[[null,e,""]]);var d={};if(a)for(var r,s=0;s<this.length;s++)r=this[s][0],null!=r&&(d[r]=!0);for(var o,i=0;i<e.length;i++)o=[].concat(e[i]),a&&d[o[0]]||(n&&(o[2]?o[2]="".concat(n," and ").concat(o[2]):o[2]=n),t.push(o))},t}}]);